import fs from 'fs';
import path from 'path';
import { fileURLToPath } from 'url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

// Read the logo image file
const logoPath = path.join(__dirname, '../public/logo.jpg');

if (!fs.existsSync(logoPath)) {
  console.error('Logo file not found at:', logoPath);
  console.log('Please ensure logo.jpg exists in the public folder');
  process.exit(1);
}

// Read the image file and convert to base64
const imageBuffer = fs.readFileSync(logoPath);
const base64String = imageBuffer.toString('base64');

// Determine MIME type based on file extension
const mimeType = 'image/jpeg'; // Since it's .jpg

// Create the TypeScript file with the base64 string
const outputPath = path.join(__dirname, '../src/utils/logoBase64.ts');
const content = `// Auto-generated file - DO NOT EDIT MANUALLY
// This file is generated by scripts/convert-logo-to-base64.js
// Run: npm run convert-logo

export const LOGO_BASE64 = '${base64String}';
export const LOGO_MIME_TYPE = '${mimeType}';
`;

fs.writeFileSync(outputPath, content, 'utf8');

console.log('‚úÖ Logo converted to base64 successfully!');
console.log(`üìÅ Output: ${outputPath}`);
console.log(`üìè Base64 length: ${base64String.length} characters`);

